import { Tabs, Callout } from "nextra/components";
import { DifficultyBadge } from "../../../../components/DifficultyBadge";
import { AlgorithmStepper } from "../../../../components/AlgorithmStepper";
export const Tab = Tabs.Tab

### Cyclically Rotate an Array by One <DifficultyBadge level="easy" />

#### Description

Given an array, cyclically rotate the array clockwise by one position. The last element moves to the front, and all other elements shift right by one.

#### Examples

```py
> Case 1:
    Input: arr = [1, 2, 3, 4, 5]
    Output: [5, 1, 2, 3, 4]

> Case 2:
    Input: arr = [9, 8, 7, 6, 4, 2, 1, 3]
    Output: [3, 9, 8, 7, 6, 4, 2, 1]
```

#### Constraints

-   `1 <= arr.length <= 10^5`

#### Approach

1. Store the last element
2. Shift all elements right by one position
3. Place the stored element at the front

<AlgorithmStepper
    title="Cyclic Rotation of [1, 2, 3, 4, 5]"
    steps={[
        { array: [1, 2, 3, 4, 5], activeIndices: [4], description: "Step 1: Save the last element (5)." },
        { array: [1, 2, 3, 4, 4], activeIndices: [3, 4], description: "Step 2: Shift arr[3] to arr[4]." },
        { array: [1, 2, 3, 3, 4], activeIndices: [2, 3], description: "Shift arr[2] to arr[3]." },
        { array: [1, 2, 2, 3, 4], activeIndices: [1, 2], description: "Shift arr[1] to arr[2]." },
        { array: [1, 1, 2, 3, 4], activeIndices: [0, 1], description: "Shift arr[0] to arr[1]." },
        { array: [5, 1, 2, 3, 4], activeIndices: [0], description: "Step 3: Place saved element (5) at front. Done!" },
    ]}
/>

#### Code

<Tabs items={['C++', 'Python']} defaultIndex="0">
    <Tab>
    ```cpp copy
    #include <iostream>
    using namespace std;

    void rotateByone(int arr[], int n) {
        int last = arr[n - 1];

        for (int i = n - 1; i > 0; i--) {
            arr[i] = arr[i - 1];
        }

        arr[0] = last;
    }

    int main() {
        int arr[] = {1, 2, 3, 4, 5};
        int n = sizeof(arr) / sizeof(arr[0]);

        rotateByone(arr, n);

        for (int i = 0; i < n; i++)
            cout << arr[i] << " ";  // 5 1 2 3 4
        cout << endl;

        return 0;
    }
    ```
    </Tab>
    <Tab>
    ```python copy
    def rotate_by_one(arr):
        """Cyclically rotate array by one position (clockwise)."""
        if not arr:
            return arr

        last = arr[-1]
        # Shift right
        for i in range(len(arr) - 1, 0, -1):
            arr[i] = arr[i - 1]
        arr[0] = last

        return arr

    # Pythonic one-liner using slicing
    def rotate_by_one_pythonic(arr):
        return [arr[-1]] + arr[:-1]

    # Example
    arr = [1, 2, 3, 4, 5]
    print(rotate_by_one(arr))  # [5, 1, 2, 3, 4]

    print(rotate_by_one_pythonic([9, 8, 7, 6, 4, 2, 1, 3]))
    # [3, 9, 8, 7, 6, 4, 2, 1]
    ```
    </Tab>
</Tabs>

#### Explanation

- We save the last element since it will be overwritten during the shift
- We iterate from right to left, moving each element one position to the right
- Finally, we place the saved last element at position 0
- The Python slicing approach `[arr[-1]] + arr[:-1]` is cleaner but creates a new list (O(n) space)

#### Analysis

- Time Complexity: `O(n)` -- shift all n elements
- Space Complexity: `O(1)` -- in-place with one temp variable
